
USBD07

SELECT
    c.Component_Name,
    c.Component_Quantity AS Required_Quantity,
    i.Quantity_In_Stock AS Available_Stock,
    (c.Component_Quantity - i.Quantity_In_Stock) AS Quantity_To_Order
FROM
    Production_Order po
JOIN
    Products p ON po.Order_ID = p.Order_ID
JOIN
    Component c ON p.Product_ID = c.Product_ID
LEFT JOIN
    Inventory i ON c.Component_ID = i.Component_ID
WHERE
    po.Order_ID = 2
AND
    i.Quantity_In_Stock < c.Component_Quantity;

USBD06

SELECT DISTINCT ts.Type_Stations
FROM
    Production_Order po
JOIN
    Products prod ON po.Order_ID = prod.Order_ID
JOIN
    Factory_Plant fp ON prod.Factory_Plant_ID = fp.Factory_Plant_ID
JOIN
    Plant_Floor pf ON fp.Factory_Plant_ID = pf.Factory_Plant_ID
JOIN
    Stations s ON pf.Plant_Floor_ID = s.Plant_Floor_ID
JOIN
    Type_Stations ts ON s.Stations_ID = ts.Stations_ID
WHERE
    po.Order_ID = 1;
